<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <title>HTML Text Editor with Syntax Highlighting, Download & Load</title>
      <!-- CodeMirror CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
          <style>
              body { font-family: Arial, sans-serif; margin: 40px; background: #f5f7fa; }
                  h1 { color: #333; }
                      #editor { border: 1px solid #aaa; border-radius: 4px; }
                          .CodeMirror { height: 300px; font-size: 16px; }
                              button {
                                    background: #4a90e2;
                                          color: #fff;
                                                border: none;
                                                      padding: 10px 24px;
                                                            font-size: 16px;
                                                                  border-radius: 4px;
                                                                        cursor: pointer;
                                                                              margin-top: 16px;
                                                                                    margin-right: 8px;
                                                                                        }
                                                                                            button:hover {
                                                                                                  background: #357ab7;
                                                                                                      }
                                                                                                          #fileInput {
                                                                                                                display: none;
                                                                                                                    }
                                                                                                                        .file-label {
                                                                                                                              display: inline-block;
                                                                                                                                    background: #6c757d;
                                                                                                                                          color: #fff;
                                                                                                                                                border-radius: 4px;
                                                                                                                                                      padding: 8px 18px;
                                                                                                                                                            cursor: pointer;
                                                                                                                                                                  margin-right: 8px;
                                                                                                                                                                        font-size: 15px;
                                                                                                                                                                              margin-top: 16px;
                                                                                                                                                                                  }
                                                                                                                                                                                      .file-label:hover {
                                                                                                                                                                                            background: #495057;
                                                                                                                                                                                                }
                                                                                                                                                                                                  </style>
                                                                                                                                                                                                  </head>
                                                                                                                                                                                                  <body>
                                                                                                                                                                                                    <h1>HTML Text Editor with Syntax Highlighting</h1>
                                                                                                                                                                                                      <textarea id="editor"><!DOCTYPE html>
                                                                                                                                                                                                      <html>
                                                                                                                                                                                                        <head>
                                                                                                                                                                                                            <title>Sample</title>
                                                                                                                                                                                                              </head>
                                                                                                                                                                                                                <body>
                                                                                                                                                                                                                    <h1>Hello, world!</h1>
                                                                                                                                                                                                                      </body>
                                                                                                                                                                                                                      </html>
                                                                                                                                                                                                                        </textarea>
                                                                                                                                                                                                                          <br>
                                                                                                                                                                                                                            <button onclick="saveText()">Save (Alert)</button>
                                                                                                                                                                                                                              <button onclick="downloadText()">Download</button>
                                                                                                                                                                                                                                <label for="fileInput" class="file-label">Load</label>
                                                                                                                                                                                                                                  <input type="file" id="fileInput" accept=".html,.htm,text/html">

                                                                                                                                                                                                                                    <!-- CodeMirror JS -->
                                                                                                                                                                                                                                      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
                                                                                                                                                                                                                                        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
                                                                                                                                                                                                                                          <script>
                                                                                                                                                                                                                                              // Initialize CodeMirror
                                                                                                                                                                                                                                                  var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
                                                                                                                                                                                                                                                        mode: "htmlmixed",
                                                                                                                                                                                                                                                              lineNumbers: true,
                                                                                                                                                                                                                                                                    theme: "default"
                                                                                                                                                                                                                                                                        });

                                                                                                                                                                                                                                                                            function saveText() {
                                                                                                                                                                                                                                                                                  const text = editor.getValue();
                                                                                                                                                                                                                                                                                        alert('Saved content:\n\n' + text);
                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                function downloadText() {
                                                                                                                                                                                                                                                                                                      const text = editor.getValue();
                                                                                                                                                                                                                                                                                                            const blob = new Blob([text], { type: 'text/html' });
                                                                                                                                                                                                                                                                                                                  const url = URL.createObjectURL(blob);
                                                                                                                                                                                                                                                                                                                        const a = document.createElement('a');
                                                                                                                                                                                                                                                                                                                              a.href = url;
                                                                                                                                                                                                                                                                                                                                    a.download = 'myfile.html';
                                                                                                                                                                                                                                                                                                                                          document.body.appendChild(a);
                                                                                                                                                                                                                                                                                                                                                a.click();
                                                                                                                                                                                                                                                                                                                                                      document.body.removeChild(a);
                                                                                                                                                                                                                                                                                                                                                            URL.revokeObjectURL(url);
                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                    // File loading
                                                                                                                                                                                                                                                                                                                                                                        document.getElementById('fileInput').addEventListener('change', function(event) {
                                                                                                                                                                                                                                                                                                                                                                              const file = event.target.files[0];
                                                                                                                                                                                                                                                                                                                                                                                    if (!file) return;
                                                                                                                                                                                                                                                                                                                                                                                          const reader = new FileReader();
                                                                                                                                                                                                                                                                                                                                                                                                reader.onload = function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                        editor.setValue(e.target.result);
                                                                                                                                                                                                                                                                                                                                                                                                              };
                                                                                                                                                                                                                                                                                                                                                                                                                    reader.readAsText(file);
                                                                                                                                                                                                                                                                                                                                                                                                                          // Reset input so loading the same file again will trigger the event
                                                                                                                                                                                                                                                                                                                                                                                                                                event.target.value = '';
                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                      </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                      </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                      </html>